# 💦 React-Router로 SPA 개발하기

## SPA
> __Single Page Application__ 의 약어로 한 개의 페이지로 이루어진 애플리케이션이라는 의미이다.
> + 서버에서 사용자에게 제공하는 페이지는 한 종류이지만, 해당 페이지 에서 로딩된 JS와 현재 사용자 브라우저 주소 상태에 따라 다양한 화면을 보여준다.
> - 다른 주소에 다른 화면을 보여주는 것을 라우팅이라고 한다.
#### SPA의 단점
> 앱의 규모가 커지면 자바스크립트 파일이 너무 커지는데, 페이지 로딩 시 사용자가 방문하지 않을 수도 있는 페이지의 스크립트를 가져올 수 있다.

## BrowserRouter
> + 프로젝트에 리액트 라우터를 적용할 때는 /src/index.js 파일에서 BrowserRouter를 컴포넌트를 사용하여 감싼다.
> - 웹 애플리케이션에 HTML5의 History API를 사용하여 페이지를 새로고침하지 않고도 주소를 변경하고, 현재 주소에 관련된 정보를 props로 쉽게 조회하거나 사용할 수 있도록 해준다.

## Route
> * 사용자의 현재 경로에 따라 다른 컴포넌트를 보여준다.
> + 설치 : yarn add -react-router-dom@5
> - 사용 방식 : <Route path="주소 규칙" component={보여줄 컴포넌트} />
> * Route에서 exact={true} 대신 exact만 써도 exact={true}라는 의미이다.(props를 설정할 때 값을 생략하면 true로 설정됨)
> + path를 따로 설정해주지 않으면 모든 상황에 렌더링 됨

## Link
> + Link 컴포넌트는 클릭하면 다른 주소로 이동시켜 주는 컴포넌트이다.
> - a 태그는 페이지를 새로 불러오기 때문에 리액트 라우터를 사용할 때는 사용하면 안된다.
> * Link 컴포넌트를 사용하여 페이지를 전환하면, 페이지를 새로 불러오지 않고 유지한 상태에서 HTML5 History API를 사용하여 페이지의 주소만 변경한다.
> + 사용 방식 : <Link to="주소">내용</Link>
> - path, props를 배열로 설정해 주면 여러 경로에서 같은 컴포넌트를 보여줄 수 있다.

## URL 파라미터와 쿼리
> + 파라미터 예시 : /profile/__velopert__
> - 쿼리 예시 : /about?__details=true__
> * 정해진 규칙은 없지만 일반적으로 파라미터는 특정 아이디 혹은 이름을 사용하여 조회할 때 사용하고, 쿼리는 어떤 키워드를 검색하거나 페이지에 필요한 옵션을 전달할 때 사용한다.
> + 쿼리는 __location__ 객체에 들어있는 __search__ 값에서 조회할 수 있다.
>   + __location__ 객체는 라우트로 사용된 컴포넌트에게 props로 전달되며, 웹 어플리케이션의 현재 주소에 대한 정보를 지니고 있다.
>       + __location__ 의 형태 : { "pathname" : "/about", "search" : "?detail=true","hash":"" }

## 서브 라우트
> + 라우트 내부에 또 라우트를 정의하는 것을 의미한다.
> - 라우트로 사용되고 있는 컴포넌트의 내부에 Route 컴포넌트를 또 사용하면 된다.

## history
> + history 객체는 라우트로 사용된 컴포넌트에 match, location과 함께 전달되는 props 중 하나로, 이 객체를 통해 컴포넌트 내에 구현하는 메서드에서 라우터 API를 호출할 수 있습니다.
> - 예를들어 특정 버튼을 눌렀을 때 뒤로 가거나, 로그인 후 화면을 전환하거나, 다른 페이지로 이탈하는 것을 방지할 때 사용한다.

## withRouter
> + withRouter 함수는 HoC(higher-order Component)이다.
> - 라우트로 사용된 컴포넌트가 아니어도 match, location, history 객체를 접근할 수 있게 해준다.

## Switch
> + Switch 컴포넌트는 여러 Route를 감싸서 그 중 일치하는 단 하나의 라우트만을 렌더링시켜 준다.
> - Switch를 사용하면 모든 규칙과 일치하지 않을 때 보여줄 Not Found 페이지도 구현할 수 있습니다.

## NavLink
> + 현재 경로와 Link에서 사용하는 경로가 일치하는 경우 특정 스타일 혹은 CSS 클래스를 적용할 수 있는 컴포넌트
> - NavLink에서 링크가 활성화되었을 때의 스타이을 적용할 때는 activeStyle 값을 넣어준다.
> * CSS 클래스를 적용할 때는 activeClassName 값을 props로 넣어준다.
